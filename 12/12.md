# Level 12

The [picture](/12/evil1.jpg) shows hands playing card games.


The title of the image is **`evil1.jpg`**.


The title of the HTML is `dealing evil`. 


There's nothing useful in the page source.


When solving python challenge problems if the image's name is `something1`.jpg you should always check `something.2.jpg` ... etc 
until you can't access the image.


Changing the URL from http://www.pythonchallenge.com/pc/return/evil.html to http://www.pythonchallenge.com/pc/return/evil2.jpg gives you **[evil2.jpg](/12/evil2.jpg)**


**not jpg .gfx** is written in blue in `evil2.jpg`.


Changing the URL from `evil2` to `evil3` gives you another **[picture](/12/evil3.jpg)**.


What if I try to change the URL from `evil3` to `evil4` will it give me another picture? 


There is an URL for `evil4` although the [picture](/12/evil4.jpg) looks a bit broken btw. 


I looked up what a **[gfx](https://courses.cs.duke.edu/cps124/fall01/code/gfx_reader/docs/gfx_format.html)** file was and changed the `evil2.jpg` to `evil2.gfx` to see if there were anything interesting. 


Nothing useful was found.


Then I went back to `evil4.jpg` because the image seems to be broken but the URL is still accessible.


Since `evil4.jpg` was the suspicious URL, I sent a request to check what's in the page.


```python
import requests

res = requests.get("http://www.pythonchallenge.com/pc/return/evil4.jpg", auth=("huge", "file"))
print(res.content) # b'Bert is evil! go back!\n'
```


The response was `b'Bert is evil! go back!\n'` who is `Bert` by the way.


I sent another response to `evil2.gfx` because it was a bit odd and felt different from the other files.


```python
import requests

res = requests.get("http://www.pythonchallenge.com/pc/return/evil2.gfx", auth=("huge", "file"))
print(res.content)
print(len(res.content)) # 67575
```


Odd the `len` of `res.content` was a multiple of **5**. 


Going back to **[evil1.jpg](/12/evil1.jpg)** the person is dealing cards by **5**. 


The code selects bytes `0,5,10,15...` etc to `0.jpg` file `1,6,11,16...` etc to `1.jpg`, `2,7,12,17...` etc to `2.jpg` 
`3,8,13,18...` etc to `3.jpg` `4,9,14,19,24...` etc to `4.jpg`.



If you download `evil2.gfx` and run the code it might not work for some reason. 
It sometimes works and sometimes doesn't. I'm not sure under which circumstance the code works.


Specifically if **`len(content)`** isn't **67575** and is **20908** or you get `File "<frozen codecs>", line 322, in decode
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte  you shouldn't use the local `evil2.gfx`.
You should get `evil2.gfx` by sending a request to the python-challenge website.


If the local `evil2.gfx` doesn't have a problem use the code below.


```python
with open("evil2.gfx", "rb") as f:
    content = f.read()

for i in range(5):
    with open(f"{i}.jpg", "wb") as img:
        img.write(content[i::5])
```


If it does have a problem you should use requests to grab `evil2.gfx` like **[this](/12/12.py)**


The python code created **5** jpg files let's check it out one by one.


**[0.jpg](/0.jpg)**, **[1.jpg](/1.jpg)**, **[2.jpg](/2.jpg)**, **[3.jpg](/3/jpg)**, **[4.jpg](/4/jpg)** are respectively each of the files that are created.


`0.jpg` has the word **dis** written in orange, `1.jpg` has the word **pro** written in green, `2.jpg` has the word **port** in blue, `3.jpg` has the word **ional** in pink and `4.jpg` has the **ity** in yellow with a line across it. 


**dis**, **pro**, **port**, **ional**, **ity** are all nonsense by itself but when combining the words you get **disproportinality**.


Changing the URL to **disproportionality** gave a `404` Error maybe we need to get rid of **ity** since there's a line across it. 


The answer then might be **disproportional**.


Changing the URL from http://www.huge:file@pythonchallenge.com/pc/return/evil.html to http://www.huge:file@pythonchallenge.com/pc/return/disproportional.html takes you to level13.


This level was hard as well, who would've thought of splitting `evil2.gfx` to 5 slices. not me for sure. 

