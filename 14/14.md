# Level 14 

An image of a **[bread](/14/italy.jpg)** (italy.jpg) is given.


To me it looks like a swiss roll. 


The HTML title is `walk around`.


The page source has a comment. 


``` 
html
<!-- remember: 100*100 = (100+99+99+98) + (...  -->
```


The page source also gives you an **[URL](http://www.pythonchallenge.com/pc/return/wire.png)**.


I downloaded the [image](/14/wire.png) but it doesn't show anything. 


It's not a punk and is an actual image.


```bash 
file wire.png 
wire.png: PNG image data, 10000 x 1, 8-bit/color RGB, non-interlaced
```


You can't see `wire.png` via the URL but it actually looks like **[this](/14/screenshot.png)**.


The page source also tells you that the `height` and `weight` of `italy.jpg` is both `100`.


```html
<img src="wire.png" width="100" height="100">
```


Since `wire.png` has a width of `10000` and a height of `1` it seems like you need to bend it and make it a `100` x `100` image. 


Coordinates in PIL typically look like this. 

The top left corner is where the origin `(0,0)` is.


```
(0,0), (1,0), (2,0), (3,0)
(0,1), (1,1), (2,1), (3,1)
(0,2), (2,1), (2,2), (3,2)
(0,3), (1,3), (2,3), (3,3)
```


Since our image is a `10000x1` image file, we need to bend the image to a square of `100` x `100` and follow the pixels in the image as if it we were following the lines in the swiss roll.


An interesting point when moving through the pixels in the image is that we only visit the pixels once.


Here's an example.


We're given a 4x4 square.


- 1. First visit 


`(0,0), (1,0), (2,0), (3,0)` 


We move through each coordinate in `(0,0), (1,0), (2,0), (3,0)` 

The distance is `4`.


- 2. Second visit 

```
(3,1)
(3,2)
(3,3)
```


I first thought you need to start count `(3,0)` again but you shouldn't. You move through the next coordinates which are `(3,1), (3,2), (3,3)`.


- 3. Third visit 

`(0,3), (1,3), (2,3)`


You visit `3` pixels this time. I'll speed up the process from here.


- 4. Fourth visit 

```
(0,1)
(0,2)
```

You visit `2` pixels this time. Now we're moving up.


- 5. Fifth visit 

`(1,1), (2,1)`

You visit `2` pixels this time. We're moving right or towards the inside of the image.


- 6. Sixth visit 

```
(2,2)
```

You visit `1` pixel this time. Moving down 


- 7. Seventh visit

```
(1,1)
```

You visit `1` pixel this time. We're moving up and it's the last pixel.


If you look closely we visited `4` pixels `(0,0), (1,0), (2,0), (3,0)` in the first visit.


`3` pixels `(3,1), (3,2), (3,3)` in the second visit.


`3` pixels `(0,3), (1,3), (2,3)` in the third visit.


`2` pixels `(0,1), (0,2)` in the fourth visit. 


`2` pixels `(1,1), (2,1)` in the fifth visit. 


`1` pixels `(2,2)` in the sixth visit. 


`1` pixels `(1,1)` in the seventh(last) visit.


Let's add all the distance `4+3+3+2+2+1+1`. 


`4+3+3+2+2+1+1` is pretty much smaller example of the HTML comment ` <!-- remember: 100*100 = (100+99+99+98) + (...  -->`.


If you're square is has the side length of `n`, the distance or length you need to visit all the coordinates in a swiss-roll manner would be 
`n+(n-1)+(n-1)+(n-2)+(n-2)...+1+1`.


If you've understood the formula above we can start writing our Python code.


Recall how we visited the pixels in the image we had `4` directions. 


First we moved right, then we moved down, then left, and then up.


We'll use a list to handle the directions in that order.


```python 
dir = [(1, 0), (0, 1), (-1, 0), (0, -1)]
```


We'll then move `100` pixels from `(0,0)` to `(99,0)` in the right direction which is `(1,0)`.



Here's the final code. 


```python
from PIL import Image


output_size = 100

with Image.open("wire.png") as im:
    out = Image.new("RGB", (output_size, output_size))

    x, y = -1, 0
    p = 0 

    dir = [(1, 0), (0, 1), (-1, 0), (0, -1)]

    d = 2 * output_size

    total_pixels = im.width * im.height

    while d // 2 > 0 and p < total_pixels:

        for dx, dy in dir:
            current_length = d // 2

            for _ in range(current_length):
                if p >= total_pixels:
                    break

                x += dx
                y += dy

                out.putpixel((x, y), im.getpixel((p, 0)))
                p += 1 

            if p >= total_pixels:
                break
            d -= 1

out.show()
```


[Image.show](https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.show) only shows the image in a new tab if you want to save the image to a jpg or png file you can use [Image.save](https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.save).


We get an image of a cat, changing the url from italy to [cat](http://www.huge:file@pythonchallenge.com/pc/return/cat.html) 


shows a description about the cat. 


It says this `and its name is uzi. you'll hear from him later.`


The answer is probably `uzi` since his name is `uzi`.


Changing the URL to [uzi](http://www.huge:file@pythonchallenge.com/pc/return/uzi.html) takes you to level15.


I found this level to be one of the hardest levels in the entire pythonchallenge. lol 